-- ============================================================================
-- ПОЛНЫЙ СПИСОК РАЗРЕШЕНИЙ ДЛЯ АДМИН-ПАНЕЛИ FLOWAXY CMS
-- Версия: 1.0.0
-- Дата: 2025-01-21
-- ============================================================================
-- 
-- Этот файл содержит все разрешения для управления функциями админ-панели
-- Разрешения организованы по категориям и подкатегориям
-- 
-- ВАЖНО: Используйте INSERT IGNORE для избежания дубликатов
-- ============================================================================

-- ============================================================================
-- 1. КАТЕГОРИЯ: admin (Основные функции CMS)
-- ============================================================================

-- 1.1. Доступ к админ-панели
INSERT IGNORE INTO `permissions` (`name`, `slug`, `description`, `category`) VALUES
('Доступ к админ-панели', 'admin.access', 'Доступ к административной панели', 'admin');

-- 1.2. Управление плагинами
INSERT IGNORE INTO `permissions` (`name`, `slug`, `description`, `category`) VALUES
('Управление плагинами', 'admin.plugins', 'Установка, активация и удаление плагинов', 'admin'),
('Просмотр плагинов', 'admin.plugins.view', 'Просмотр списка плагинов', 'admin'),
('Установка плагинов', 'admin.plugins.install', 'Установка новых плагинов', 'admin'),
('Активация плагинов', 'admin.plugins.activate', 'Активация плагинов', 'admin'),
('Деактивация плагинов', 'admin.plugins.deactivate', 'Деактивация плагинов', 'admin'),
('Удаление плагинов', 'admin.plugins.delete', 'Удаление плагинов', 'admin'),
('Настройка плагинов', 'admin.plugins.settings', 'Изменение настроек плагинов', 'admin');

-- 1.3. Управление темами
INSERT IGNORE INTO `permissions` (`name`, `slug`, `description`, `category`) VALUES
('Управление темами', 'admin.themes', 'Установка и активация тем', 'admin'),
('Просмотр тем', 'admin.themes.view', 'Просмотр списка тем', 'admin'),
('Установка тем', 'admin.themes.install', 'Установка новых тем', 'admin'),
('Активация тем', 'admin.themes.activate', 'Активация тем', 'admin'),
('Удаление тем', 'admin.themes.delete', 'Удаление тем', 'admin'),
('Редактирование тем', 'admin.themes.edit', 'Редактирование файлов тем', 'admin'),
('Кастомизация тем', 'admin.themes.customize', 'Кастомизация внешнего вида тем', 'admin');

-- 1.4. Управление настройками
INSERT IGNORE INTO `permissions` (`name`, `slug`, `description`, `category`) VALUES
('Управление настройками', 'admin.settings', 'Изменение системных настроек', 'settings'),
('Просмотр настроек', 'admin.settings.view', 'Просмотр системных настроек', 'settings'),
('Изменение настроек сайта', 'admin.settings.site', 'Изменение настроек сайта', 'settings'),
('Изменение настроек системы', 'admin.settings.system', 'Изменение системных настроек', 'settings');

-- 1.5. Просмотр логов
INSERT IGNORE INTO `permissions` (`name`, `slug`, `description`, `category`) VALUES
('Просмотр логов', 'admin.logs.view', 'Просмотр системных логов', 'admin'),
('Экспорт логов', 'admin.logs.export', 'Экспорт логов в файлы', 'admin'),
('Удаление логов', 'admin.logs.delete', 'Удаление логов', 'admin');

-- ============================================================================
-- 2. КАТЕГОРИЯ: system (Пользователи и роли)
-- ============================================================================

-- 2.1. Управление пользователями
INSERT IGNORE INTO `permissions` (`name`, `slug`, `description`, `category`) VALUES
('Управление пользователями', 'admin.users', 'Создание, редактирование и удаление пользователей', 'system'),
('Просмотр пользователей', 'admin.users.view', 'Просмотр списка пользователей', 'system'),
('Создание пользователей', 'admin.users.create', 'Создание новых пользователей', 'system'),
('Редактирование пользователей', 'admin.users.edit', 'Редактирование данных пользователей', 'system'),
('Удаление пользователей', 'admin.users.delete', 'Удаление пользователей', 'system'),
('Изменение паролей', 'admin.users.password', 'Изменение паролей пользователей', 'system'),
('Управление ролями пользователей', 'admin.users.roles', 'Назначение ролей пользователям', 'system');

-- 2.2. Управление ролями
INSERT IGNORE INTO `permissions` (`name`, `slug`, `description`, `category`) VALUES
('Управление ролями', 'admin.roles', 'Управление ролями и правами доступа', 'system'),
('Просмотр ролей', 'admin.roles.view', 'Просмотр списка ролей', 'system'),
('Создание ролей', 'admin.roles.create', 'Создание новых ролей', 'system'),
('Редактирование ролей', 'admin.roles.edit', 'Редактирование ролей', 'system'),
('Удаление ролей', 'admin.roles.delete', 'Удаление ролей', 'system'),
('Управление разрешениями', 'admin.roles.permissions', 'Назначение разрешений ролям', 'system');

-- ============================================================================
-- 3. КАТЕГОРИЯ: tools (Инструменты)
-- ============================================================================

-- 3.1. Управление кешем
INSERT IGNORE INTO `permissions` (`name`, `slug`, `description`, `category`) VALUES
('Управление кешем', 'admin.cache', 'Управление системным кешем', 'tools'),
('Просмотр кеша', 'admin.cache.view', 'Просмотр содержимого кеша', 'tools'),
('Очистка кеша', 'admin.cache.clear', 'Очистка кеша', 'tools'),
('Удаление кеша', 'admin.cache.delete', 'Удаление записей кеша', 'tools');

-- 3.2. Управление хранилищем
INSERT IGNORE INTO `permissions` (`name`, `slug`, `description`, `category`) VALUES
('Управление хранилищем', 'admin.storage', 'Управление файловым хранилищем', 'tools'),
('Просмотр хранилища', 'admin.storage.view', 'Просмотр содержимого хранилища', 'tools'),
('Загрузка файлов', 'admin.storage.upload', 'Загрузка файлов в хранилище', 'tools'),
('Удаление файлов', 'admin.storage.delete', 'Удаление файлов из хранилища', 'tools'),
('Редактирование файлов', 'admin.storage.edit', 'Редактирование файлов в хранилище', 'tools');

-- ============================================================================
-- 4. КАТЕГОРИЯ: admin (API и интеграции)
-- ============================================================================

-- 4.1. Управление API ключами
INSERT IGNORE INTO `permissions` (`name`, `slug`, `description`, `category`) VALUES
('Управление API ключами', 'admin.api.keys', 'Управление API ключами', 'admin'),
('Просмотр API ключей', 'admin.api.keys.view', 'Просмотр списка API ключей', 'admin'),
('Создание API ключей', 'admin.api.keys.create', 'Создание новых API ключей', 'admin'),
('Редактирование API ключей', 'admin.api.keys.edit', 'Редактирование API ключей', 'admin'),
('Удаление API ключей', 'admin.api.keys.delete', 'Удаление API ключей', 'admin');

-- 4.2. Управление Webhooks
INSERT IGNORE INTO `permissions` (`name`, `slug`, `description`, `category`) VALUES
('Управление Webhooks', 'admin.webhooks', 'Управление webhooks для интеграций', 'admin'),
('Просмотр Webhooks', 'admin.webhooks.view', 'Просмотр списка webhooks', 'admin'),
('Создание Webhooks', 'admin.webhooks.create', 'Создание новых webhooks', 'admin'),
('Редактирование Webhooks', 'admin.webhooks.edit', 'Редактирование webhooks', 'admin'),
('Удаление Webhooks', 'admin.webhooks.delete', 'Удаление webhooks', 'admin'),
('Тестирование Webhooks', 'admin.webhooks.test', 'Тестирование webhooks', 'admin');

-- ============================================================================
-- 5. КАТЕГОРИЯ: admin (Профиль)
-- ============================================================================

-- 5.1. Управление профилем
INSERT IGNORE INTO `permissions` (`name`, `slug`, `description`, `category`) VALUES
('Управление профилем', 'admin.profile', 'Управление собственным профилем', 'admin'),
('Просмотр профиля', 'admin.profile.view', 'Просмотр собственного профиля', 'admin'),
('Редактирование профиля', 'admin.profile.edit', 'Редактирование собственного профиля', 'admin'),
('Изменение пароля', 'admin.profile.password', 'Изменение собственного пароля', 'admin');

-- ============================================================================
-- 6. КАТЕГОРИЯ: admin (Дашборд)
-- ============================================================================

-- 6.1. Просмотр дашборда
INSERT IGNORE INTO `permissions` (`name`, `slug`, `description`, `category`) VALUES
('Просмотр дашборда', 'admin.dashboard', 'Просмотр главной страницы админ-панели', 'admin'),
('Просмотр статистики', 'admin.dashboard.stats', 'Просмотр статистики на дашборде', 'admin'),
('Управление виджетами', 'admin.dashboard.widgets', 'Управление виджетами на дашборде', 'admin');

-- ============================================================================
-- ИТОГО: 50 разрешений для админ-панели
-- ============================================================================
-- 
-- Категории (используются в БД):
-- 1. admin (Основные функции CMS, API, Профиль, Дашборд) - 30 разрешений
-- 2. system (Пользователи и роли) - 12 разрешений
-- 3. tools (Инструменты) - 7 разрешений
-- 4. settings (Настройки) - 4 разрешения
--
-- Отображение категорий в интерфейсе (через маппинг в role-edit.php):
-- - admin => CMS
-- - system => Система
-- - tools => Інструменти
-- - settings => Налаштування
-- 
-- Структура slug:
-- - Формат: admin.{категория}.{действие}
-- - Примеры: admin.plugins.view, admin.users.create, admin.cache.clear
-- 
-- Примечания:
-- - Все разрешения используют категории для группировки
-- - Разрешения организованы по функциональным областям
-- - Каждая категория имеет базовое разрешение и подразрешения для конкретных действий
-- ============================================================================

