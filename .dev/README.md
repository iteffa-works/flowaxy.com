# Flowaxy CMS

**Профессиональная PHP-основа для студийной разработки веб-проектов**

---

## О системе

**Flowaxy CMS** — это современное ядро системы управления контентом, разработанное специально для студийной разработки. Система представляет собой высокоуровневый фреймворк с готовой архитектурой, который значительно ускоряет процесс создания веб-проектов любой сложности.

### Ключевые особенности архитектуры

В отличие от традиционных CMS, где плагины и темы существуют как независимые модули, **Flowaxy CMS** реализует концепцию **интегрированных решений** (use cases). Вместо отдельных плагинов система использует готовые наборы решений, включающие темы оформления и комплекты плагинов, которые работают как единое целое через систему хуков и событий.

---

## Целевая аудитория

**Flowaxy CMS** разработана специально для:

- **Веб-студий** — ускорение разработки проектов под заказ
- **Агентств** — создание типовых решений для клиентов
- **Разработчиков** — база для быстрого старта проектов
- **Команд разработки** — унификация процесса создания веб-приложений

---

## Технические преимущества

### Современный технологический стек

- **PHP 8.3+** — использование последних возможностей языка
- **Объектно-ориентированная архитектура** — чистая структура кода
- **Type declarations** — строгая типизация для повышения надежности
- **PSR-совместимость** — соответствие стандартам индустрии
- **Модульная структура** — разделение ответственности компонентов

### Безопасность из коробки

- Защита от SQL-инъекций через PDO с подготовленными запросами
- CSRF-токены для всех форм и AJAX-запросов
- Автоматическая валидация и санитизация входных данных
- Безопасное хеширование паролей (bcrypt)
- Защита критических директорий через .htaccess
- Система ролей и прав доступа

### Производительность

- Встроенная система кеширования с настраиваемым TTL
- Автоматическая очистка устаревших данных
- Ленивая загрузка модулей и компонентов
- Оптимизированные запросы к базе данных
- Минимизация использования памяти

---

## Архитектура системы

```
flowaxy.com/
├── engine/                          # Ядро системы
│   ├── classes/                     # Базовые классы фреймворка
│   │   ├── base/                    # Базовые абстракции
│   │   │   ├── BaseModule.php      # Базовый класс модулей
│   │   │   ├── BasePlugin.php      # Базовый класс плагинов
│   │   ├── data/                    # Работа с данными
│   │   │   ├── Cache.php           # Система кеширования
│   │   │   ├── Database.php        # Абстракция БД
│   │   │   ├── Logger.php          # Логирование
│   │   │   └── Config.php          # Конфигурация
│   │   ├── files/                   # Файловая система
│   │   │   ├── File.php            # Работа с файлами
│   │   │   ├── Directory.php       # Работа с директориями
│   │   │   ├── Upload.php          # Загрузка файлов
│   │   │   ├── Zip.php             # Архивация
│   │   │   └── Image.php           # Обработка изображений
│   │   ├── http/                    # HTTP-слой
│   │   │   ├── Request.php         # Обработка запросов
│   │   │   ├── Response.php        # Формирование ответов
│   │   │   ├── Router.php          # Маршрутизация
│   │   │   └── AjaxHandler.php     # AJAX-обработка
│   │   ├── security/                # Безопасность
│   │   │   ├── Security.php        # Основные функции безопасности
│   │   │   ├── Hash.php            # Хеширование
│   │   │   ├── Encryption.php      # Шифрование
│   │   │   └── Session.php         # Управление сессиями
│   │   ├── validators/              # Валидация данных
│   │   ├── ui/                      # UI-компоненты
│   │   │   └── ModalHandler.php    # Модальные окна
│   │   └── view/                    # Шаблонизация
│   ├── modules/                     # Системные модули
│   │   ├── PluginManager.php       # Менеджер плагинов
│   │   ├── ThemeManager.php        # Менеджер тем
│   │   ├── SettingsManager.php     # Управление настройками
│   │   └── ThemeCustomizer.php     # Кастомизация тем
│   └── skins/                       # Административная панель
│       ├── pages/                   # Страницы админки
│       ├── templates/               # Шаблоны страниц
│       ├── components/              # UI-компоненты
│       └── layouts/                 # Базовые макеты
├── themes/                          # Темы оформления
├── plugins/                         # Плагины расширения
└── storage/                         # Хранилище данных
    ├── cache/                       # Кеш-файлы
    ├── logs/                        # Логи системы
    └── uploads/                     # Загруженные файлы
```

---

## Функциональные возможности

### 1. Система управления плагинами

**Менеджер плагинов** предоставляет полный контроль над расширениями:

- Автоматическая установка и активация плагинов через ZIP-архивы
- Управление зависимостями между плагинами
- Автоматические миграции базы данных при установке
- Автоматическая очистка данных при удалении
- Версионирование и обновление плагинов
- Изоляция плагинов для предотвращения конфликтов

### 2. Система управления темами

**Менеджер тем** обеспечивает гибкую работу с оформлением:

- Установка тем через ZIP-архивы
- Активация и деактивация тем
- Встроенный кастомизатор с live-preview
- Управление настройками тем через интерфейс
- Поддержка дочерних тем
- Компиляция SCSS в CSS на лету

### 3. Административная панель

**Современный интерфейс управления** с акцентом на удобство:

- **Адаптивный дизайн** — полная поддержка мобильных устройств
- **Компонентная архитектура** — переиспользуемые UI-компоненты
- **Виджетная система** — настраиваемая главная панель (по аналогии с WordPress)
- **Централизованные модальные окна** — единый ModalHandler для всех диалогов
- **Система уведомлений** — flash-сообщения и алерты
- **Боковая навигация** — динамическое меню из плагинов
- **Статистика и мониторинг** — просмотр кеша, логов, производительности

### 4. Система хуков и событий

**Гибкая архитектура расширения** через систему хуков:

- Регистрация хуков в плагинах и темах
- Фильтры для модификации данных
- События для выполнения действий
- Приоритизация хуков
- Условное выполнение хуков

### 5. Работа с базой данных

**Надежный слой абстракции БД**:

- Поддержка MySQL/MariaDB через PDO
- Защита от SQL-инъекций
- Подготовленные запросы для всех операций
- Транзакции для целостности данных
- Логирование медленных запросов
- Автоматическое управление подключениями

### 6. Система кеширования

**Многоуровневое кеширование**:

- Файловый кеш с настраиваемым TTL
- Кеш в памяти для текущего запроса
- Автоматическая очистка устаревших записей
- Статистика использования кеша
- Тегирование кеша для групповой очистки
- Настройка через административную панель

### 7. Система логирования

**Централизованное логирование**:

- Разные уровни логирования (DEBUG, INFO, WARNING, ERROR, CRITICAL)
- Ротация логов по размеру и времени
- Автоматическая очистка старых логов
- Просмотр логов через админ-панель
- Контекстная информация в логах
- Настройка уровня детализации

### 8. Файловая система

**Комплексная работа с файлами**:

- Абстракция для работы с файлами и директориями
- Загрузка файлов с валидацией MIME-типов
- Обработка изображений (resize, crop, watermark)
- Работа с ZIP-архивами
- Определение MIME-типов
- Работа с различными форматами (JSON, XML, YAML, INI, CSV)

---

## Технические требования

### Минимальные требования

- **PHP**: 8.4.0 или выше
- **MySQL**: 5.7+ / MariaDB 10.2+
- **Веб-сервер**: Apache 2.4+ (с mod_rewrite) или Nginx 1.18+
- **Память**: минимум 128MB (рекомендуется 256MB+)
- **Дисковое пространство**: 50MB+ (без учета загруженных файлов)

### Рекомендуемые требования

- **PHP**: 8.4+ с включенными расширениями:
  - `pdo_mysql`
  - `mbstring`
  - `json`
  - `zip`
  - `gd` или `imagick` (для обработки изображений)
  - `opcache` (для повышения производительности)

---

## Установка и развертывание

### Быстрая установка

1. **Клонирование или загрузка** проекта на сервер
2. **Настройка прав доступа**:
   ```bash
   chmod 755 storage/cache storage/logs storage/uploads
   ```
3. **Конфигурация базы данных**:
   - Отредактируйте `engine/data/database.php`
   - Укажите параметры подключения к БД
4. **Импорт структуры БД**:
   ```bash
   mysql -u username -p database_name < database.sql
   ```
5. **Настройка веб-сервера**:
   - Убедитесь, что mod_rewrite включен (Apache)
   - Настройте виртуальный хост (Nginx)
6. **Доступ к административной панели**:
   - URL: `https://yourdomain.com/admin`
   - Стандартный логин: `admin` (пароль из БД)

### Конфигурация окружения

Система использует централизованную конфигурацию через файлы:
- `engine/data/config.php` — общие настройки
- `engine/data/database.php` — настройки БД

---

## Структура плагина

Каждый плагин должен содержать файл `plugin.json` со следующей структурой:

```json
{
  "name": "Название плагина",
  "slug": "plugin-slug",
  "version": "1.0.0",
  "description": "Подробное описание функциональности плагина",
  "author": "Имя автора",
  "author_url": "https://example.com",
  "requires": "1.0.0",
  "tested": "8.3",
  "hooks": [
    "hook_name_1",
    "hook_name_2"
  ],
  "dependencies": []
}
```

**Основные файлы плагина**:
- `plugin.json` — метаданные плагина
- `index.php` — точка входа плагина
- `migrations/` — миграции базы данных (опционально)
- `assets/` — статические файлы (CSS, JS, изображения)

---

## Структура темы

Каждая тема должна содержать файл `theme.json`:

```json
{
  "name": "Название темы",
  "slug": "theme-slug",
  "version": "1.0.0",
  "description": "Описание темы оформления",
  "author": "Имя автора",
  "author_url": "https://example.com",
  "requires": "1.0.0",
  "screenshot": "screenshot.png"
}
```

**Основные файлы темы**:
- `theme.json` — метаданные темы
- `index.php` — основной файл темы
- `style.css` — стили темы
- `functions.php` — функции темы
- `screenshot.png` — превью темы (1200x900px)

---

## Разработка расширений

### Создание плагина

Плагин наследуется от `BasePlugin` и регистрирует хуки:

```php
<?php
class MyPlugin extends BasePlugin {
    public function init() {
        // Регистрация хуков
        addHook('dashboard_widgets', [$this, 'addWidget']);
    }
    
    public function addWidget() {
        return [
            'title' => 'Мой виджет',
            'content' => 'Содержимое виджета',
            'order' => 10
        ];
    }
}
```

### Создание темы

Тема может определять маршруты и использовать хуки:

```php
<?php
// Регистрация маршрутов
Router::get('/about', function() {
    return View::make('about', ['title' => 'О нас']);
});

// Использование хуков
addHook('before_content', function() {
    echo '<div class="container">';
});
```

---

## Преимущества для студийной разработки

### 1. Ускорение разработки

- Готовая архитектура позволяет начать разработку функционала сразу
- Меньше времени на настройку инфраструктуры
- Стандартизация процесса разработки

### 2. Унификация проектов

- Единая кодовая база для всех проектов
- Переиспользование компонентов и модулей
- Консистентность интерфейсов

### 3. Масштабируемость

- Легкое добавление новых функций через плагины
- Модульная архитектура позволяет масштабировать проект
- Оптимизированная производительность из коробки

### 4. Безопасность

- Встроенные механизмы защиты от распространенных атак
- Регулярные обновления безопасности
- Следование best practices индустрии

### 5. Поддерживаемость

- Чистый и документированный код
- Логирование всех операций
- Удобная отладка через админ-панель

---

## Сферы применения

**Flowaxy CMS** успешно используется для создания:

- **Корпоративные сайты** — сайты компаний с различным функционалом
- **Интернет-магазины** — полнофункциональные e-commerce решения
- **Блоги и новостные порталы** — издания с системой публикаций
- **Каталоги и рейтинги** — директории компаний, услуг, товаров
- **Социальные сети** — платформы для общения пользователей
- **Портфолио и визитки** — персональные и корпоративные сайты
- **LMS (Learning Management Systems)** — системы обучения
- **CRM-системы** — управление взаимоотношениями с клиентами
- **Кастомные веб-приложения** — любые специализированные решения

---

## Лицензия и распространение

**Flowaxy CMS** распространяется под открытой лицензией с правом использования, модификации и распространения. Система доступна для бесплатного использования в коммерческих и некоммерческих проектах.

Полные условия лицензии доступны на официальном сайте студии.

---

## Поддержка и документация

- **Официальный сайт**: https://flowaxy.com
- **Документация**: доступна на сайте разработчика
- **Исходный код**: открыт для изучения и модификации
- **Поддержка**: через официальный канал связи студии

---

## Заключение

**Flowaxy CMS** — это не просто система управления контентом. Это профессиональный инструмент для студийной разработки, который объединяет в себе гибкость фреймворка, удобство CMS и мощность платформы для создания веб-приложений любой сложности.

Система разработана с учетом потребностей веб-студий и агентств, которые ценят время, качество кода и возможность быстро адаптироваться под требования клиентов.

---

**Flowaxy CMS** — *Ядро вашего следующего проекта*
